  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (39.7ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "name" varchar, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "upn" varchar NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "permissions"[0m
  [1m[35m (47.5ms)[0m  [1m[35mCREATE TABLE "permissions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "user_id" integer, "authlevel" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:02:10.186744"], ["updated_at", "2020-08-20 10:02:10.186744"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:02:10.213137"], ["updated_at", "2020-08-20 10:02:10.213137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:02:10.229351"], ["updated_at", "2020-08-20 10:02:10.229351"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:02:10.231512"], ["updated_at", "2020-08-20 10:02:10.231512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (50.3ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "name" varchar, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "upn" varchar NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "permissions"[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE TABLE "permissions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "user_id" integer, "authlevel" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:03:45.821109"], ["updated_at", "2020-08-20 10:03:45.821109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:03:45.848722"], ["updated_at", "2020-08-20 10:03:45.848722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:03:45.865086"], ["updated_at", "2020-08-20 10:03:45.865086"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:03:45.867246"], ["updated_at", "2020-08-20 10:03:45.867246"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (44.6ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "name" varchar, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (47.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "upn" varchar NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "permissions"[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE TABLE "permissions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "user_id" integer, "authlevel" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "things"[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE TABLE "things" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "name" text)[0m
  [1m[35m (42.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (37.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200213095950)[0m
  [1m[35m (48.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-08-20 10:04:25.827033"], ["updated_at", "2020-08-20 10:04:25.827033"]]
  [1m[35m (37.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8cd204c231447df12cb53b4bbc217b01e513e07f"], ["created_at", "2020-08-20 10:04:25.869316"], ["updated_at", "2020-08-20 10:04:25.869316"]]
  [1m[35m (35.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:04:25.984559"], ["updated_at", "2020-08-20 10:04:25.984559"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:04:26.010824"], ["updated_at", "2020-08-20 10:04:26.010824"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:04:26.030398"], ["updated_at", "2020-08-20 10:04:26.030398"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:04:26.032631"], ["updated_at", "2020-08-20 10:04:26.032631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:05:43.458502"], ["updated_at", "2020-08-20 10:05:43.458502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:05:43.484343"], ["updated_at", "2020-08-20 10:05:43.484343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (17.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:05:43.523332"], ["updated_at", "2020-08-20 10:05:43.523332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:05:43.526887"], ["updated_at", "2020-08-20 10:05:43.526887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.2ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.2ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:07:06.751984"], ["updated_at", "2020-08-20 10:07:06.751984"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:07:06.776818"], ["updated_at", "2020-08-20 10:07:06.776818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:07:06.796662"], ["updated_at", "2020-08-20 10:07:06.796662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:07:06.798904"], ["updated_at", "2020-08-20 10:07:06.798904"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:08:40.522403"], ["updated_at", "2020-08-20 10:08:40.522403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:08:40.533424"], ["updated_at", "2020-08-20 10:08:40.533424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.2ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:08:40.555133"], ["updated_at", "2020-08-20 10:08:40.555133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:08:40.557483"], ["updated_at", "2020-08-20 10:08:40.557483"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.2ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:12:41.211353"], ["updated_at", "2020-08-20 10:12:41.211353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:12:41.236514"], ["updated_at", "2020-08-20 10:12:41.236514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:12:41.257007"], ["updated_at", "2020-08-20 10:12:41.257007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:12:41.259251"], ["updated_at", "2020-08-20 10:12:41.259251"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:12:54.724556"], ["updated_at", "2020-08-20 10:12:54.724556"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:12:54.735176"], ["updated_at", "2020-08-20 10:12:54.735176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:12:54.755969"], ["updated_at", "2020-08-20 10:12:54.755969"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:12:54.758261"], ["updated_at", "2020-08-20 10:12:54.758261"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:13:32.788587"], ["updated_at", "2020-08-20 10:13:32.788587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:13:32.799094"], ["updated_at", "2020-08-20 10:13:32.799094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:13:32.819102"], ["updated_at", "2020-08-20 10:13:32.819102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:13:32.821343"], ["updated_at", "2020-08-20 10:13:32.821343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:22:41.799380"], ["updated_at", "2020-08-20 10:22:41.799380"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:22:41.809795"], ["updated_at", "2020-08-20 10:22:41.809795"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:22:41.852519"], ["updated_at", "2020-08-20 10:22:41.852519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:22:41.854803"], ["updated_at", "2020-08-20 10:22:41.854803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:02.092833"], ["updated_at", "2020-08-20 10:23:02.092833"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:02.102912"], ["updated_at", "2020-08-20 10:23:02.102912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:02.136471"], ["updated_at", "2020-08-20 10:23:02.136471"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:02.138728"], ["updated_at", "2020-08-20 10:23:02.138728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:23.796358"], ["updated_at", "2020-08-20 10:23:23.796358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:23.807612"], ["updated_at", "2020-08-20 10:23:23.807612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:23.834796"], ["updated_at", "2020-08-20 10:23:23.834796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:23.837014"], ["updated_at", "2020-08-20 10:23:23.837014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:23.840879"], ["updated_at", "2020-08-20 10:23:23.840879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:57.335942"], ["updated_at", "2020-08-20 10:23:57.335942"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:57.346631"], ["updated_at", "2020-08-20 10:23:57.346631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:23:57.374053"], ["updated_at", "2020-08-20 10:23:57.374053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:57.376320"], ["updated_at", "2020-08-20 10:23:57.376320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:23:57.380361"], ["updated_at", "2020-08-20 10:23:57.380361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:24:18.851578"], ["updated_at", "2020-08-20 10:24:18.851578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:18.861789"], ["updated_at", "2020-08-20 10:24:18.861789"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:24:18.888818"], ["updated_at", "2020-08-20 10:24:18.888818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:18.891085"], ["updated_at", "2020-08-20 10:24:18.891085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:18.894943"], ["updated_at", "2020-08-20 10:24:18.894943"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:24:35.541613"], ["updated_at", "2020-08-20 10:24:35.541613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:35.551942"], ["updated_at", "2020-08-20 10:24:35.551942"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:24:35.579305"], ["updated_at", "2020-08-20 10:24:35.579305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:35.581462"], ["updated_at", "2020-08-20 10:24:35.581462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:24:35.585380"], ["updated_at", "2020-08-20 10:24:35.585380"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:25:34.823565"], ["updated_at", "2020-08-20 10:25:34.823565"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:25:34.834617"], ["updated_at", "2020-08-20 10:25:34.834617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.2ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:25:34.863229"], ["updated_at", "2020-08-20 10:25:34.863229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:25:34.865507"], ["updated_at", "2020-08-20 10:25:34.865507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:25:34.869667"], ["updated_at", "2020-08-20 10:25:34.869667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:26:23.093277"], ["updated_at", "2020-08-20 10:26:23.093277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:26:23.103723"], ["updated_at", "2020-08-20 10:26:23.103723"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:26:23.130607"], ["updated_at", "2020-08-20 10:26:23.130607"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:26:23.132806"], ["updated_at", "2020-08-20 10:26:23.132806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:26:23.136708"], ["updated_at", "2020-08-20 10:26:23.136708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "name" varchar, "description" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (47.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "upn" varchar NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "permissions"[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE TABLE "permissions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "user_id" integer, "authlevel" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "things"[0m
  [1m[35m (47.4ms)[0m  [1m[35mCREATE TABLE "things" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "user_id" integer, "name" text)[0m
  [1m[35m (48.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (35.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200213095950)[0m
  [1m[35m (46.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-08-20 10:27:26.084410"], ["updated_at", "2020-08-20 10:27:26.084410"]]
  [1m[35m (32.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "577ffc0236e54501aae4e4863d2f86bfa2751136"], ["created_at", "2020-08-20 10:27:26.121116"], ["updated_at", "2020-08-20 10:27:26.121116"]]
  [1m[35m (30.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:27:26.239008"], ["updated_at", "2020-08-20 10:27:26.239008"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:27:26.249442"], ["updated_at", "2020-08-20 10:27:26.249442"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:27:26.276959"], ["updated_at", "2020-08-20 10:27:26.276959"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:27:26.279331"], ["updated_at", "2020-08-20 10:27:26.279331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:27:26.283294"], ["updated_at", "2020-08-20 10:27:26.283294"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:28:41.507046"], ["updated_at", "2020-08-20 10:28:41.507046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO1"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name1"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO1"], ["name", "Organization Name1"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:28:41.518247"], ["updated_at", "2020-08-20 10:28:41.518247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 1], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 1], ["name", "Thing Name1"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."upn") = LOWER(?) LIMIT ?[0m  [["upn", "nome.cognome@unibo.it"], ["LIMIT", 1]]
  [1m[36mDmUniboCommon::CurrentUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("id", "upn", "name", "surname", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["upn", "nome.cognome@unibo.it"], ["name", "Nome"], ["surname", "Cognome"], ["created_at", "2020-08-20 10:28:41.550593"], ["updated_at", "2020-08-20 10:28:41.550593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO2"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name2"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO2"], ["name", "Organization Name2"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:28:41.552939"], ["updated_at", "2020-08-20 10:28:41.552939"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Create (0.1ms)[0m  [1m[32mINSERT INTO "permissions" ("organization_id", "user_id", "authlevel") VALUES (?, ?, ?)[0m  [["organization_id", 1], ["user_id", 2], ["authlevel", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDmUniboCommon::Permission Load (0.1ms)[0m  [1m[34mSELECT "permissions".* FROM "permissions" WHERE "permissions"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."code") = LOWER(?) LIMIT ?[0m  [["code", "A.CodeO3"], ["LIMIT", 1]]
  [1m[36mOrganization Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "organizations" WHERE LOWER("organizations"."name") = LOWER(?) LIMIT ?[0m  [["name", "Organization Name3"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("code", "name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["code", "A.CodeO3"], ["name", "Organization Name3"], ["description", "Organization SpecTest"], ["created_at", "2020-08-20 10:28:41.556930"], ["updated_at", "2020-08-20 10:28:41.556930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mThing Create (0.1ms)[0m  [1m[32mINSERT INTO "things" ("organization_id", "name") VALUES (?, ?)[0m  [["organization_id", 2], ["name", "Thing Name2"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
